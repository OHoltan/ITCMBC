<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title></title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="view/sidebar.css">
    <link rel="stylesheet" href="style.css">
    <script src="calculate.js"></script>
    <script src="models\Validator.js"></script>
    <script src="models\Position.js"></script>
    <script src="models\StoredPoint.js"></script>
    <script src="models\Adjust.js"></script>
    <script src="models\Sheaf.js"></script>
    <script src="models\Gun.js"></script>
    <script src="models\TargetMethods.js"></script>
    <script src="models\Firemission.js"></script>
    <script src="view\handler.js"></script>
    <script src="controller\Route.js"></script>
    <script src="controller\Firemission.js"></script>
    <script src="controller\BCS.js"></script>


    <script src="tables\mortar_81\mortar_81_all_ch0.js"></script>
    <script src="tables\mortar_81\mortar_81_all_ch1.js"></script>
    <script src="tables\mortar_81\mortar_81_all_ch2.js"></script>
    <script src="tables\mortar_81\mortar_81_all_ch3.js"></script>
    <script src="tables\mortar_81\mortar_81_all_ch4.js"></script>
    <script src="tables\mortar_82\mortar_82.js"></script>
    <script src="tables\weapons.js"></script>
    <script src="ATAB.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="wrapper">
      <!-- Sidebar -->
      <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand">
                <h1>FDC</h1>
                <h4 id="bty_name">Archer Bty</h4>
            </li>
            <li>
                <a onClick="Get('BCS.options')">BCS Settings</a>
            </li>
            <li>
                <a onClick="Get('BCS.battery')">Bty Setup</a>
            </li>
            <li>
                <a onClick="Get('BCS.points')">Location Stores</a>
            </li>
            <li>
                <a onClick="Get('BCS.ammo')">Ammo Stores</a>
            </li>
            <li class="pusher"></li>
            <li><a onClick="Get('Firemission.new')"><h3>New Firemission</h3></a></li>
            <li>
              <ul class="firemission_sidebar">
              </ul>
            </li>
          </ul>
      </div>
      <!-- /#sidebar-wrapper -->
      <!-- Page Content -->
      <div id="page-content-wrapper">
        <div class="container-fluid" id="content">
            <div class="row page" id="landing">
              <div class="col-lg-12">
                  <h1>Archer BCS</h1>
              </div>
            </div>

            <!--                          BCS SETUP                     -->
            <div class="row page object" id="bcs_options" hidden>
                <div class="col-md-8">
                  <h1>BCS Settings</h1>
                  <p>
                    <dl>
                      <dt>Alert To Splash: </dt>  <dd><input type="number" value=10 class="variable" key="alertToSplash"> seconds</dd>
                      <dt>Wind Resistance: </dt>  <dd>
                        <select class="variable" key="windResistance">
                          <option value="">On</option>
                          <option value="_nwr">Off</option>
                        </select>
                      </dd>
                      <dt>Firemission Code: </dt> <dd><input type="text" placeholder="time" value="FM" class="variable" key="firemissionCode"></dd>
                      <dt>Firemission Start: </dt><dd> <input type="number" placeholder="time" value="0001" class="variable" key="firemissionStart"> </dd>
                    </dl>
                  </p>
                </div>
                <div class="col-md-7 btn-toolbar">
                    <button class="btn btn-primary pull-right" onClick="Post('BCS.options', this)">Save</button >
                    <button class="btn btn-danger pull-right" onClick="Get('BCS.options')">Discard</button >
                </div>
            </div>

            <!--                          BATTERY SETUP                     -->
            <div class="row page object" id="bty_setup" hidden>
                <div class="col-lg-12">
                  <h1>Battery Setup</h1>
                  <p class="bg-danger"><span class="flash"></span></p>
                  <p>
                    <dl>
                      <dt>Battery Callsign: </dt>  <dd><input type="text" class="variable" key="callsign"></dd>
                      <dt>Gun Type: </dt>  <dd><select class="variable" key="type">
                            <option value="mortar_82">Mk6</option>
                            <option value="mortar_81">L16</option>
                          </select></dd>
                    </dl>
                    <table class="table">
                      <thead>
                        <tr><th>Gun #</th><th>Position</th><th>Elevation</th><th><button class="btn btn-xs btn-primary" onClick="Controller.BCS.battery.printGun()"><i class="fa fa-plus"></i></button></th></tr>
                      </thead>
                      <tbody id="gun_list">
                        <tr id="gun_template" class="object object-nested gun" hidden>
                          <td><input type="text" value="" class="narrow variable" key="name"></td>
                          <td><input type="text" value="" class="variable" key="position.mgrs_string"></td>
                          <td><input type="text" value="" class="variable" key="position.elev"></td>
                          <td><button class="btn btn-xs btn-danger" onClick="Controller.BCS.battery.deleteGun(this)"><i class="fa fa-minus"></i></button></td>
                        </tr>
                      </tbody>
                    </table>
                  </p>
                </div>
                <div class="col-md-12 btn-toolbar">
                    <button class="btn btn-primary pull-right" onClick="Post('BCS.battery', this)">Save</button >
                    <button class="btn btn-danger pull-right" onClick="Get('BCS.battery')">Discard</button >
                </div>
            </div>

            <!--                          LOCATION STORES                     -->
            <div class="row page object" id="bty_points" hidden>
                <div class="col-lg-12">
                  <h1>Known Points</h1>
                  <p class="bg-danger"><span class="flash"></span></p>
                  <table class="table">
                    <thead>
                      <tr><th>Reference</th><th>Position</th><th>Elevation</th><th>Friendly</th><th><button class="btn btn-xs btn-primary" onClick="Controller.BCS.points.add()"><i class="fa fa-plus"></i></button></th></tr>
                    </thead>
                    <tbody id="point_list">
                      <tr id="point_template" class="object object-nested point" hidden>
                        <td><input type="text" value="" class="variable" key="name"></td>
                        <td><input type="text" value="" class="variable" key="position.mgrs_string"></td>
                        <td><input type="text" value="" class="variable" key="position.elev"></td>
                        <td><select class="variable" type="bool" key="friendly">
                          <option value="true">true</option>
                          <option value="false">false</option>
                        </select></td>
                        <td><button class="btn btn-xs btn-danger" onClick="Controller.BCS.points.delete(this)"><i class="fa fa-minus"></i></button></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-md-12 btn-toolbar">
                    <button class="btn btn-primary pull-right" onClick="Post('BCS.points', this)">Save</button >
                    <button class="btn btn-danger pull-right" onClick="Get('BCS.points')">Discard</button >
                </div>
            </div>

            <!--                          BATTERY SETUP                     -->
            <div class="row page object" id="bty_ammo" hidden>
              <div class="col-lg-12">
                <h1>Battery Ammo Stores</h1>
                <p class="bg-danger"><span class="flash"></span></p>
                <div class="col-sm-3 col-xs-12">
                  <table class="table">
                    <thead>
                      <tr><th>Type</th><th>#</th></tr>
                    </thead>
                    <tbody class="loop" key="ammo">
                      <tr class="template element" hidden><td><input type="text" value="" class="variable" key="name"></td><td><input type="number" value="" class="variable" key="count"></td></tr>
                    </tbody>
                  </table>
                  <button class="btn btn-primary pull-right" onClick="Post('BCS.ammo', this)">Save</button >
                </div>
              </div>
            </div>

            <!--                          FIREMISSION SETUP                     -->
            <div class="row page object" id="firemission_new" hidden>
              <input type="hidden" class="variable" key="id">
              <div class="col-lg-12">
                <h1>New Firemission</h1>
                <ul class="nav nav-tabs">
                  <li role="presentation" class="active"><a href="#" onClick="Get('Firemission.tabs', 'setup')">Setup</a></li>
                  <li role="presentation"><a href="#" onClick="Get('Firemission.tabs', 'engagement')">Engagement</a></li>
                  <li role="presentation"><a href="#" onClick="Get('Firemission.tabs', 'solutions')">Solutions</a></li>
                </ul>
                <p class="bg-danger"><span class="flash"></span></p>
                <dl>
                  <dt>Firemission Name: </dt>  <dd><input type="text" class="variable" key="name"></dd>
                  <dt>Firemission Type: </dt>  <dd><select class="variable" key="type">
                    <option value="ffe">Fire For Effect</option>
                    <option value="adj">Adjust</option>
                    <option value="suppress">Suppress</option>
                    <option value="fpf">FPF</option>
                  </select></dd>
                  <dt>Target Type: </dt>  <dd><select value="grid" class="variable" key="targetMethod" onChange="View.helpers.viewChanger(this, '#methods')">
                    <option value="grid">Grid</option>
                    <option value="shift">Shift</option>
                    <option value="polar">Polar</option>
                  </select></dd>
                </dl>
                <hr>
                <div class="row changer-list" id="methods">
                  <div class="col-sm-8 changer grid buttonTarget targetMethods object-nested" object-class="TargetMethods.Grid">
                    <dl>
                      <dt>Load Known Point: </dt><dd><select class="knownpoint" target="position" onChange="View.helpers.loadPos(this)"><option>FO 12</option></select><button onClick="View.helpers.loadPos(this)" target="knownpoint">Load</button></dd>
                      <dt>Grid: </dt>  <dd><input type="text" class="mgrs variable" key="grid"></dd>
                      <dt>Elevation: </dt><dd><input type="number" value=0 class="elevation variable" key="elevation"> meters</dd>
                    </dl>
                    <button class="btn btn-primary pull-right" onClick="Post('Firemission.setup', this)">Next</button >
                  </div>

                  <div class="col-sm-8 changer shift buttonTarget targetMethods  object-nested" object-class="TargetMethods.Shift" hidden>
                    <dl>
                      <dt>Known Point: </dt><dd><select class="knownpoint" key="point"><option>FO 12</option></select></dd>
                      <dt>OT: </dt><dd><input type="number" value=0 class="variable" key="ot"> mils</dd>
                      <dt>AD: </dt><dd><input type="number" value=0 class="variable" key="ad"> meters</dd>
                      <dt>LR: </dt><dd><input type="number" value=0 class="variable" key="lr"> meters</dd>
                      <dt>UD: </dt><dd><input type="number" value=0 class="variable" key="ud"> meters</dd>
                    </dl>
                    <button class="btn btn-primary pull-right" onClick="Post('Firemission.setup', this)">Next</button >
                  </div>

                  <div class="col-sm-8 changer polar buttonTarget targetMethods  object-nested" object-class="TargetMethods.Polar" hidden>
                    <dl>
                      <dt>Observer: </dt><dd><select class="knownpoint" key="point"><option>FO 12</option></select></dd>
                      <dt>Direction: </dt><dd><input type="number" value=0 class="variable" key="direction"> mils</dd>
                      <dt>Distance: </dt><dd><input type="number" value=0 class="variable" key="distance"> meters</dd>
                      <dt>VI: </dt><dd><input type="number" value=0 class="variable" key="vi"> meters</dd>
                    </dl>
                    <button class="btn btn-primary pull-right" onClick="Post('Firemission.setup', this)">Next</button >
                  </div>
                </div>
              </div>
            </div>

            <!--                          FM ENGAGE                     -->
            <div class="row page object" id="firemission_engagement" hidden>
              <p class="bg-danger"><span class="flash"></span></p>
              <input type="hidden" class="variable" key="id">
              <input type="hidden" class="variable" key="engagement.mof">
              <div class="col-lg-7">
                <h1><span class="variable" key="name"></span> Engagement</h1>
                <ul class="nav nav-tabs">
                  <li role="presentation"><a href="#" onClick="Get('Firemission.tabs', 'setup')">Setup</a></li>
                  <li role="presentation" class="active"><a href="#" onClick="Get('Firemission.tabs', 'engagement')">Engagement</a></li>
                  <li role="presentation"><a href="#" onClick="Get('Firemission.tabs', 'solutions')">Solutions</a></li>
                </ul>
                <!--<button class="btn pull-left" onClick="Get('Firemission.back')">Back</button >-->
                <hr>
                <dl>
                  <dt>MOC: </dt><dd><select class="variable" key="engagement.moc"><option value="amc">AMC</option><option>DNL</option value="dnl"><option value="wr">WR</option></select></dd>
                  <dt>Charge: </dt><dd><select class="variable" key="engagement.charge">
                    <option>Auto</option>
                    <option>0</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                  </select></dd>
                </dl>
                <hr>

                <h3>Adjust</h3>
                <select class="variable gun-select" key="adjust.guns"><option>Gun 1</option></select>
                <select class="variable" key="adjust.shell">
                  <option value="HE">HE</option>
                  <option value="WP">WP</option>
                  <option value="Ilum">Ilum</option>
                </select>
                <select class="variable" key="adjust.fuze"><option>Quick</option></select>

                <h3>Fire For Effect</h3>
                <select class="variable  gun-select" key="ffe.guns"><option>Battery</option></select>
                <input type="number" class="narrow variable" value=2 key="ffe.rounds"> Rounds 
                <select class="variable" key="ffe.shell">
                  <option value="HE">HE</option>
                  <option value="WP">WP</option>
                  <option value="Ilum">Ilum</option></select>
                <select class="variable" key="ffe.fuze"><option>Quick</option></select>
                <hr>

                <dl>
                  <dt>Sheaf: </dt><dd><select class="variable" key="engagement.sheaf.type" onChange="View.helpers.viewChanger(this, '#sheaf')">
                  <option value="parallel">Parallel</option>
                  <option value="converged">Converged</option>
                  <option value="linear">Linear</option>
                  <option value="open">Open</option>
                  <option value="special">Special</option>
                  </select></dd>
                </dl>
                <div id="sheaf">
                  <div class="changer special" hidden>
                    <dl>
                      <dt>Quick: </dt><dd><select class="variable" key="engagement.sheaf.quick"><option value="true">ON</option><option value=false>OFF</option></select></dd>
                      <dt>Direction: </dt><dd><input type="number" value=0 class="variable" key="engagement.sheaf.direction"> mils</dd>
                      <dt>Length: </dt><dd><input type="number" value=0 class="variable" key="engagement.sheaf.length"> meters</dd>
                    </dl>
                  </div>
                    <hr>
                </div>
                <dl>
                  <dt>Sweeps/Zones: </dt><dd><select><option>Off</option></select></dd>
                </dl>
              </div>
              <div class="col-sm-7">
                <button class="btn btn-primary pull-right" onClick="Post('Firemission.engagement',this)">Solutions</button >
              </div>
            </div>

            <!--                          SOLUTIONS                     -->
            <div class="row page" id="firemission_solution" hidden>
              <input type="hidden" class="variable" key="id">
              <div class="col-lg-7">
                <h1><span class="variable" key="name"></span>  Solutions</h1>
                <ul class="nav nav-tabs">
                  <li role="presentation"><a href="#" onClick="Get('Firemission.tabs', 'setup')">Setup</a></li>
                  <li role="presentation"><a href="#" onClick="Get('Firemission.tabs', 'engagement')">Engagement</a></li>
                  <li role="presentation" class="active"><a href="#" onClick="Get('Firemission.tabs', 'solutions')">Solutions</a></li>
                </ul>
                <table class="table">
                  <thead>
                    <tr>
                      <th>Gun</th>
                      <th>MOF</th>
                      <th>MOC</th>
                      <th>Rounds</th>
                      <th>Shell</th>
                      <th>Fuze</th>
                      <th>Charge</th>
                      <th>AZ</th>
                      <th>QD</th>
                      <th>TOF</th>
                    </tr>
                  </thead>
                  <tbody class="solutions" key="solutions.bty.maxOrd">
                  </tbody>
                </table>
                <button class="btn pull-right" onClick="Get('Firemission.solutions.next')"><i class="fa fa-sm fa-angle-right"></i></button>
                <button class="btn pull-right" onClick="Get('Firemission.solutions.prev')"><i class="fa fa-sm fa-angle-left"></i></button>
                <dl>
                  <dt>MAXIMUM ORDINATE: </dt><dd><span class="variable maxOrd" key="solutions.bty.maxOrd"></span></dd>
                  <dt>IMPACT ANGLE: </dt><dd><span class="variable impAngle" key="solutions.bty.impAngle"></span></dd>
                </dl>
                <div class="col-xs-12 danger-close" hidden>
                  <button class="btn btn-danger btn-block">WARNING: DANGER CLOSE <span class="danger-close-units"></span></button><br/>
                </div>
                <button class="btn btn-primary" onClick="Post('Firemission.datalink')">Send datalink orders</button>
                <hr>
                <div class="row">
                  <div class="col-md-4 shot-timer">
                    <button class="btn btn-primary btn-block" onClick="Get('Firemission.shot')">Shot</button><br/>
                    <span class="shot-clock"></span></span><br/>
                    <p class="shot-splash bg-success" hidden>SPLASH<span class="shot-t">T-10</span></p>
                  </div>
                  <div class="col-md-4 rc-timer">
                    <button class="btn btn-primary btn-block" onClick="Get('Firemission.roundsComplete')">Rounds Complete</button><br/>
                    <span class="rc-clock"></span><br/>
                    <p class="rc-splash bg-success" hidden>ROUNDS COMPLETE<span class="rc-t">T-10</span></p>
                  </div>
                  <div class="col-md-4" hidden>
                    <button class="btn btn-danger btn-block">Cease Fire</button><br/>
                  </div>
                </div>
                <hr>
                <div class="row">
                  <div class="col-md-2"></div>
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-block" onClick="Get('Firemission.adjust')">Adjust/FFE</button>
                  </div>
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-block" onClick="Get('Firemission.eom')">End Mission</button>
                  </div>
                  <div class="col-md-2"></div>
                </div>
              </div>
            </div>

            <!--                          FM ADJUST                     -->
            <div class="row page object" id="firemission_adjust" hidden>
              <div class="col-md-8">
                <h1><span class="variable" key="name"></span> Adjust</h1>
                <button class="btn pull-left" onClick="Get('Firemission.back')">Back</button >
                <dl class="adjustvars">
                  <dt>OT: </dt><dd><input type="number" value=0 class="variable" key="ot"> mils</dd>
                  <dt>AD: </dt><dd><input type="number" value=0 class="variable" key="ad"> meters</dd>
                  <dt>LR: </dt><dd><input type="number" value=0 class="variable" key="lr"> meters</dd>
                  <dt>UD: </dt><dd><input type="number" value=0 class="variable" key="ud"> meters</dd>
                </dl>
                <br/>
                <dl>
                  <dt>MOF: </dt><dd>
                    <select class="variable" key="mof"><option value="adj">ADJ</option><option value="ffe">FFE</option></select>
                  </dd>
                </dl>
                <br/>
                  <button class="btn btn-primary pull-right" onClick="Post('Firemission.adjust', this)">Submit Adjustment</button><br/>
              </div>
            </div>

            <!--                          FM EOM                     -->
            <div class="row page object" id="firemission_eom" hidden>
              <div class="col-md-4">
                <h1><span class="variable" key="name"></span> EOM</h1>
                <h4>EOM Action</h4>
                <select class="variable" key="action"><option value="record">Record as Target</option><option>No Save</option></select>

                 <table class="table">
                  <thead>
                    <tr><th>Rounds</th><th>Type</th></tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><input type="number" value=2  class="variable" key="adjust.shellsFired"></td>
                      <td><input type="text" class="variable disabled" key="adjust.shell"></td>
                    </tr>
                    <tr>
                      <td><input type="number" value=2  class="variable" key="ffe.shellsFired"></td>
                      <td><input type="text" class="variable disabled" key="ffe.shell"></td>
                    </tr>
                  </tbody>
                </table>
                <div class="btn-toolbar">
                    <button class="btn btn-primary" onClick="Get('Firemission.back')">Cancel</button >
                    <button class="btn btn-danger" onClick="Post('Firemission.eom', this)">End Mission</button >
                </div>
              </div>
            </div>
          <!-- content end -->
          </div>
        </div>
      </div>
      <!-- /#page-content-wrapper -->
    </div>
    <script src="test.js"></script>
    <script src="controller\BCS.js"></script>
    <script>
      View.init();
    </script>
  </body>
</html>